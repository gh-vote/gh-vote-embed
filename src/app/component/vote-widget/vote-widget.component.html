<ng-container *ngIf="!loading || (loading | async)">
  <p>loading...</p>
</ng-container>
<ng-container *ngIf="!(loading | async)">
  <ng-container *ngIf="!(user | async)">
    <button
      (click)="loginWithRedirect()"
    >
      Log in
    </button>
  </ng-container>
  <ng-container *ngIf="(user | async) && (poll | async)">
    <p>Logged in as @{{(user | async).login}}</p>
    <button
      (click)="logout()"
    >
      Log out
    </button>
    <app-poll
      [poll]="(poll | async)!"
    ></app-poll>
  </ng-container>
</ng-container>
